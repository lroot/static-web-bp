# Static Website Boilerplate

This framework is designed to create, manage & deploy static websites. It uses
[Harp](http://harpjs.com/) as the web server and pre-processing framework along 
with [stout](http://stout.is/) for deploying to S3. Initial HTML templates are 
based on the [mobile boilerplate](https://html5boilerplate.com/mobile/) code 
from the [H5BP project](https://github.com/h5bp).

## Contacts
- Larry Root <github@lroot.com>

## Harp

This system is based on an implementation of [Harp](http://harpjs.com/). In in
order to test and build, you must [first install harp](http://harpjs.com/docs/quick-start) 
on your local machine.

```shell
sudo npm install -g harp
```

To better support local development you can run a Harp server that will allow
developers to preview changes in real time on their local machines. From the 
root of the project directory, execute:

```shell
harp server 		
```

Once development is complete, a static site can be generated by executing the
following command from the root project folder:

```shell
harp compile --output ./build 		
```

This wil generate a static site in the ./build directory. This directory is 
ignored by Git, so only the source of the site will be source code managed, not
the final build.

## Stout

Deployment of the static site to S3 is done with a tool called [stout](http://stout.is/).
You will need to install the stout executable on your system. First [download 
the latest version for your OS](https://github.com/EagerIO/Stout/releases) and 
then place the executable in somewhere in your directory path, such as `/usr/local/bin`.

Update your stout configuration by copying the file `deploy.yaml.DEFAULT` to 
`deploy.yaml`. Then update the settings in this file accordingly. The file `deploy.yaml`
is ignored by Git so any system secrets placed in this file will not be stored 
beyond your local system.

To deploy local content to S3, execute the following command from the root directory
of your project:

```shell
stout deploy --config ./deploy.yaml 		
```

## System Layout
For basics on how Harp works including file prepossessing and implementation of 
Layouts/Partials check out the [Harp documentation](http://harpjs.com/docs/).

The `public` folder is the source code (pre-compiled version) of the website. 

The `_partials` directory contains all various partial files.
 
The `assets` directory stores JavaScript, Stylesheets and Images.
 
The `_layout.ejs` is the master layout used by all pages.
 
The A subdirectory is created for each _page_ of the website. This will 
be part of the URL path for the page so it should be named accordingly 
(ie http://website.com/about ).

Within each page directory there will be two files. The `_data.json` file 
contains all the content that is unique to this given page. The `index.ejs` will
be compiled to index.html and represents the actual layout & HTML for the page.

In the root project directory there is a `harp.json` file. This file contains all
the global settings that will be shared by all page files. These values can
also be overridden by each page's `_data.json` file by simply redefining the
json objects property value. In this way the `harp.json` file can also be used
to provide default values for the various pages in which only some pages would 
override.
